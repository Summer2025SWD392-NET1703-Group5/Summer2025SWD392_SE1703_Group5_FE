 ğŸ”„ [BOOKING_PAGE_CLEANUP] User leaving BookingPage - preserving WebSocket for cross-tab sync
 ğŸ” [BOOKING_PAGE_CLEANUP] Is page reload: true, currentView: payment
 ğŸ’¾ [BOOKING_PAGE_CLEANUP] Saved current view (payment) for reload restoration
 â„¹ï¸ [BOOKING_PAGE_CLEANUP] Preserving payment state - page reload detected
 â¹ï¸ [useCountdown] Dá»«ng timer cho booking 1409
 â¹ï¸ [COUNTDOWN] Dá»«ng timer cho booking 1409
 ÄÃ³ng táº¥t cáº£ menu khi chuyá»ƒn Ä‘áº¿n: /showtimes
 Tham sá»‘ cinema tá»« URL: null
 Fetching all cinemas...
 Fetching all movies...
 Movies received: Array(44)
 Cinemas received: Array(6)
 Fetching all showtimes with filters: Object
 Fetching all cinemas...
 Cinemas received: Array(6)
 Fetching showtimes for cinema 1 on date 2025-07-15
 Fetching showtimes for cinema 15 on date 2025-07-15
 Fetching showtimes for cinema 5 on date 2025-07-15
 Fetching showtimes for cinema 8 on date 2025-07-15
 Fetching showtimes for cinema 12 on date 2025-07-15
 Fetching showtimes for cinema 2 on date 2025-07-15
:3000/api/cinemas/12/showtimes?date=2025-07-15:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/8/showtimes?date=2025-07-15:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/5/showtimes?date=2025-07-15:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/2/showtimes?date=2025-07-15:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/15/showtimes?date=2025-07-15:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/1/showtimes?date=2025-07-15:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
 Filtered showtimes: Array(0)
 Fetched showtimes: Array(0)
 Enriched showtimes: Array(0)
 Fetching all showtimes with filters: Object
 Fetching all cinemas...
 Cinemas received: Array(6)
 Fetching showtimes for cinema 1 on date 2025-07-19
 Fetching showtimes for cinema 15 on date 2025-07-19
 Fetching showtimes for cinema 5 on date 2025-07-19
 Fetching showtimes for cinema 8 on date 2025-07-19
 Fetching showtimes for cinema 12 on date 2025-07-19
 Fetching showtimes for cinema 2 on date 2025-07-19
:3000/api/cinemas/15/showtimes?date=2025-07-19:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/8/showtimes?date=2025-07-19:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/12/showtimes?date=2025-07-19:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/5/showtimes?date=2025-07-19:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
:3000/api/cinemas/2/showtimes?date=2025-07-19:1  Failed to load resource: the server responded with a status of 404 (Not Found)
 API Error: AxiosError
 Error fetching cinema showtimes by date: AxiosError
getCinemaShowtimesByDate @ ShowtimesPageService.ts:201
 Cinema showtimes received: Object
 Filtered showtimes: Array(3)
 Fetched showtimes: Array(3)
 Fetching room details for ID: 57
 Fetching room details for ID: 57
 Fetching room details for ID: 39
 Fetching seats info for showtime ID: 141
 Fetching seats info for showtime ID: 142
 Fetching seats info for showtime ID: 139
 Showtime seats info received: Object
 Showtime seats info received: Object
 Showtime seats info received: Object
 Enriched showtimes: Array(3)
 User clicked showtime: Object
 Proceeding with booking for showtime: 141
 ğŸ”„ [INIT] Found payment data in payment_state_141 and last view was payment, restoring payment view
 ğŸ”„ [INIT] Restoring paymentBookingSession from payment_state
 ÄÃ³ng táº¥t cáº£ menu khi chuyá»ƒn Ä‘áº¿n: /booking/141
 ğŸ§¹ [MANDATORY_CLEANUP] Starting mandatory seat cleanup on page load...
 ğŸ§¹ [MANDATORY_CLEANUP] Clearing WebSocket seats...
 ğŸ§¹ Clearing all seats for showtime: 141
 ğŸ§¹ Cleared 0 selected seats from session storage
 ğŸ”§ [BROADCAST_DEBUG] Preparing to broadcast: Object
 ğŸ”§ [BROADCAST_DEBUG] BroadcastChannel available: true
 ğŸ“¡ [BROADCAST_SUCCESS] Sent via BroadcastChannel: cancel_booking seat CANCEL_BOOKING to other tabs
 âœ… Cleared all seats for showtime: 141 (WITH cross-tab broadcast for cancel)
 ğŸ” [MANDATORY_CLEANUP] Is reload: true, Has payment state: true
 ğŸ’¾ [MANDATORY_CLEANUP] Preserving payment state - reload detected with existing payment state
 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: booking_session_141
 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: galaxy_cinema_session_141
 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: bookingData
 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: has_pending_booking
 ğŸ“¡ [MANDATORY_CLEANUP] Broadcasted cleanup event
 ğŸ’¾ [MANDATORY_CLEANUP] Preserving current view for payment state restoration
 âœ… [MANDATORY_CLEANUP] Mandatory cleanup completed
 âœ… [PAYMENT_RESTORE] Already in payment view, skipping useEffect restore
 ğŸ” [PENDING_CHECK] Checking for pending booking on mount...
 ğŸ“­ [PENDING_CHECK] No pending booking found
 ğŸ”„ [BOOKING_PAGE] Current view changed to: payment
 ğŸ’³ [BOOKING_PAGE] PaymentComponent will be mounted
 ğŸ“‹ BookingPage Debug Info:
 - URL showtimeId: 141
 - location.state: null
 - showtime data: undefined
 - movie data: undefined
 - theater data: undefined
 ğŸš€ BookingPage: Force ensuring WebSocket connection for showtime 141
 ğŸ¬ Fetching showtime details for ID: 141
 ğŸ”„ Starting auto-reconnect for showtime 141
 ğŸ” fetchSeats - Seat A6 Price: Object
 ğŸ” fetchSeats - Seat A7 Price: Object
 ğŸª‘ fetchSeats - Setting 35 seats
 â„¹ï¸ Found 3 occupied seats, but NOT clearing all seats to preserve other users' selections
 ğŸ”§ [PAYMENT] Processing seats: Object
 âœ… [PAYMENT] Using existing array: Array(3)
 ğŸš€ [useCountdown] Khá»Ÿi táº¡o countdown cho booking 1409
countdownService.ts:47 ğŸ”„ [COUNTDOWN] Sá»­ dá»¥ng timer hiá»‡n cÃ³ cho booking 1409: Object
useCountdown.ts:54 ğŸ“Š [useCountdown] Booking 1409 - Thá»i gian cÃ²n láº¡i: 265s
useCountdown.ts:61 â–¶ï¸ [useCountdown] Báº¯t Ä‘áº§u timer cho booking 1409
countdownService.ts:185 ğŸš€ [COUNTDOWN] Báº¯t Ä‘áº§u timer cho booking 1409
PaymentComponent.tsx:129 Äang láº¥y thÃ´ng tin Ä‘iá»ƒm cá»§a ngÆ°á»i dÃ¹ng 9
PaymentComponent.tsx:531 ğŸ“‹ Dá»¯ liá»‡u tá»« sessionStorage: Object
PaymentComponent.tsx:612 ğŸ­ Äang táº£i thÃ´ng tin showtime ID: 141
PaymentComponent.tsx:646 ğŸ”„ Auto-selected PayOS for regular user
BookingPage.tsx:467 âœ… [PAYMENT_RESTORE] Already in payment view, skipping useEffect restore
PaymentComponent.tsx:136 âœ… Láº¥y thÃ´ng tin Ä‘iá»ƒm thÃ nh cÃ´ng: 297500 Ä‘iá»ƒm
PaymentComponent.tsx:615 âœ… ThÃ´ng tin showtime tá»« API: Object
BookingPage.tsx:440 â„¹ï¸ [VISIBILITY] Page hidden - preserving state (user might return)
BookingPage.tsx:442 â„¹ï¸ [VISIBILITY] Page visible - user returned
BookingPage.tsx:1003 ğŸ”„ [BOOKING_PAGE_CLEANUP] User leaving BookingPage - preserving WebSocket for cross-tab sync
BookingPage.tsx:1010 ğŸ” [BOOKING_PAGE_CLEANUP] Is page reload: true, currentView: payment
BookingPage.tsx:1025 ğŸ’¾ [BOOKING_PAGE_CLEANUP] Saved current view (payment) for reload restoration
BookingPage.tsx:1030 â„¹ï¸ [BOOKING_PAGE_CLEANUP] Preserving payment state - page reload detected
useCountdown.ts:76 â¹ï¸ [useCountdown] Dá»«ng timer cho booking 1409
countdownService.ts:196 â¹ï¸ [COUNTDOWN] Dá»«ng timer cho booking 1409
Header.tsx:100 ÄÃ³ng táº¥t cáº£ menu khi chuyá»ƒn Ä‘áº¿n: /movies
Header.tsx:100 ÄÃ³ng táº¥t cáº£ menu khi chuyá»ƒn Ä‘áº¿n: /movies
MovieList.tsx:92 Äang táº£i danh sÃ¡ch phim tá»« API...
MovieList.tsx:142 Káº¿t quáº£ API phim Ä‘ang chiáº¿u: Array(23)
MovieList.tsx:153 Káº¿t quáº£ API phim sáº¯p chiáº¿u: Array(5)
BookingPage.tsx:64 ğŸ”„ [INIT] Found payment data in payment_state_141 and last view was payment, restoring payment view
BookingPage.tsx:99 ğŸ”„ [INIT] Restoring paymentBookingSession from payment_state
Header.tsx:100 ÄÃ³ng táº¥t cáº£ menu khi chuyá»ƒn Ä‘áº¿n: /booking/141
BookingPage.tsx:288 ğŸ§¹ [MANDATORY_CLEANUP] Starting mandatory seat cleanup on page load...
BookingPage.tsx:294 ğŸ§¹ [MANDATORY_CLEANUP] Clearing WebSocket seats...
webSocketService.ts:1159 ğŸ§¹ Clearing all seats for showtime: 141
sessionStorageService.ts:99 ğŸ§¹ Cleared 0 selected seats from session storage
webSocketService.ts:287 ğŸ”§ [BROADCAST_DEBUG] Preparing to broadcast: Object
webSocketService.ts:288 ğŸ”§ [BROADCAST_DEBUG] BroadcastChannel available: true
webSocketService.ts:300 ğŸ“¡ [BROADCAST_SUCCESS] Sent via BroadcastChannel: cancel_booking seat CANCEL_BOOKING to other tabs
webSocketService.ts:1206 âœ… Cleared all seats for showtime: 141 (WITH cross-tab broadcast for cancel)
BookingPage.tsx:303 ğŸ” [MANDATORY_CLEANUP] Is reload: true, Has payment state: true
BookingPage.tsx:318 ğŸ’¾ [MANDATORY_CLEANUP] Preserving payment state - reload detected with existing payment state
BookingPage.tsx:324 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: booking_session_141
BookingPage.tsx:324 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: galaxy_cinema_session_141
BookingPage.tsx:324 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: bookingData
BookingPage.tsx:324 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: has_pending_booking
BookingPage.tsx:338 ğŸ“¡ [MANDATORY_CLEANUP] Broadcasted cleanup event
BookingPage.tsx:349 ğŸ’¾ [MANDATORY_CLEANUP] Preserving current view for payment state restoration
BookingPage.tsx:352 âœ… [MANDATORY_CLEANUP] Mandatory cleanup completed
BookingPage.tsx:467 âœ… [PAYMENT_RESTORE] Already in payment view, skipping useEffect restore
BookingPage.tsx:598 ğŸ” [PENDING_CHECK] Checking for pending booking on mount...
BookingPage.tsx:744 ğŸ“­ [PENDING_CHECK] No pending booking found
BookingPage.tsx:754 ğŸ”„ [BOOKING_PAGE] Current view changed to: payment
BookingPage.tsx:758 ğŸ’³ [BOOKING_PAGE] PaymentComponent will be mounted
BookingPage.tsx:1093 ğŸ“‹ BookingPage Debug Info:
BookingPage.tsx:1094 - URL showtimeId: 141
BookingPage.tsx:1095 - location.state: null
BookingPage.tsx:1096 - showtime data: undefined
BookingPage.tsx:1097 - movie data: undefined
BookingPage.tsx:1098 - theater data: undefined
BookingPage.tsx:1108 ğŸš€ BookingPage: Force ensuring WebSocket connection for showtime 141
BookingPage.tsx:1224 ğŸ¬ Fetching showtime details for ID: 141
webSocketService.ts:1486 ğŸ”„ Starting auto-reconnect for showtime 141
BookingPage.tsx:1355 ğŸ” fetchSeats - Seat A6 Price: Object
BookingPage.tsx:1355 ğŸ” fetchSeats - Seat A7 Price: Object
BookingPage.tsx:1377 ğŸª‘ fetchSeats - Setting 35 seats
BookingPage.tsx:1387 â„¹ï¸ Found 3 occupied seats, but NOT clearing all seats to preserve other users' selections
PaymentComponent.tsx:654 ğŸ”§ [PAYMENT] Processing seats: Object
PaymentComponent.tsx:686 âœ… [PAYMENT] Using existing array: Array(3)
useCountdown.ts:44 ğŸš€ [useCountdown] Khá»Ÿi táº¡o countdown cho booking 1409
countdownService.ts:47 ğŸ”„ [COUNTDOWN] Sá»­ dá»¥ng timer hiá»‡n cÃ³ cho booking 1409: Object
useCountdown.ts:54 ğŸ“Š [useCountdown] Booking 1409 - Thá»i gian cÃ²n láº¡i: 245s
useCountdown.ts:61 â–¶ï¸ [useCountdown] Báº¯t Ä‘áº§u timer cho booking 1409
countdownService.ts:185 ğŸš€ [COUNTDOWN] Báº¯t Ä‘áº§u timer cho booking 1409
PaymentComponent.tsx:129 Äang láº¥y thÃ´ng tin Ä‘iá»ƒm cá»§a ngÆ°á»i dÃ¹ng 9
PaymentComponent.tsx:531 ğŸ“‹ Dá»¯ liá»‡u tá»« sessionStorage: Object
PaymentComponent.tsx:612 ğŸ­ Äang táº£i thÃ´ng tin showtime ID: 141
PaymentComponent.tsx:646 ğŸ”„ Auto-selected PayOS for regular user
BookingPage.tsx:467 âœ… [PAYMENT_RESTORE] Already in payment view, skipping useEffect restore
PaymentComponent.tsx:136 âœ… Láº¥y thÃ´ng tin Ä‘iá»ƒm thÃ nh cÃ´ng: 297500 Ä‘iá»ƒm
PaymentComponent.tsx:615 âœ… ThÃ´ng tin showtime tá»« API: Object
PaymentComponent.tsx:852 Gá»­i request vá»›i tham sá»‘: Object
PaymentComponent.tsx:862 Káº¿t quáº£ tá»« API: Object
BookingPage.tsx:440 â„¹ï¸ [VISIBILITY] Page hidden - preserving state (user might return)
BookingPage.tsx:442 â„¹ï¸ [VISIBILITY] Page visible - user returned
BookingPage.tsx:440 â„¹ï¸ [VISIBILITY] Page hidden - preserving state (user might return)
BookingPage.tsx:442 â„¹ï¸ [VISIBILITY] Page visible - user returned


sau khi reload 
 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
 [App] Khá»Ÿi táº¡o OptimizedProviders - Chá»‰ render 1 láº§n khi app khá»Ÿi Ä‘á»™ng
 [AuthContext] Initializing auth...
 âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
warnOnce @ react-router-dom.js:4393
logDeprecation @ react-router-dom.js:4396
logV6DeprecationWarnings @ react-router-dom.js:4399
(anonymous) @ react-router-dom.js:5271
commitHookEffectListMount @ chunk-YCOEJRGR.js:16915
commitPassiveMountOnFiber @ chunk-YCOEJRGR.js:18156
commitPassiveMountEffects_complete @ chunk-YCOEJRGR.js:18129
commitPassiveMountEffects_begin @ chunk-YCOEJRGR.js:18119
commitPassiveMountEffects @ chunk-YCOEJRGR.js:18109
flushPassiveEffectsImpl @ chunk-YCOEJRGR.js:19490
flushPassiveEffects @ chunk-YCOEJRGR.js:19447
(anonymous) @ chunk-YCOEJRGR.js:19328
workLoop @ chunk-YCOEJRGR.js:197
flushWork @ chunk-YCOEJRGR.js:176
performWorkUntilDeadline @ chunk-YCOEJRGR.js:384
 âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.
warnOnce @ react-router-dom.js:4393
logDeprecation @ react-router-dom.js:4396
logV6DeprecationWarnings @ react-router-dom.js:4402
(anonymous) @ react-router-dom.js:5271
commitHookEffectListMount @ chunk-YCOEJRGR.js:16915
commitPassiveMountOnFiber @ chunk-YCOEJRGR.js:18156
commitPassiveMountEffects_complete @ chunk-YCOEJRGR.js:18129
commitPassiveMountEffects_begin @ chunk-YCOEJRGR.js:18119
commitPassiveMountEffects @ chunk-YCOEJRGR.js:18109
flushPassiveEffectsImpl @ chunk-YCOEJRGR.js:19490
flushPassiveEffects @ chunk-YCOEJRGR.js:19447
(anonymous) @ chunk-YCOEJRGR.js:19328
workLoop @ chunk-YCOEJRGR.js:197
flushWork @ chunk-YCOEJRGR.js:176
performWorkUntilDeadline @ chunk-YCOEJRGR.js:384
 [userService] Profile loaded: Customer user
 [AuthContext] User authenticated: Customer
 [AuthContext] Auth initialized
 ÄÃ³ng táº¥t cáº£ menu khi chuyá»ƒn Ä‘áº¿n: /booking/141
 ğŸ”Œ WebSocketService initialized vá»›i config: Object
 ğŸ”„ Setting up cross-tab sync (BroadcastChannel: true)
 âœ… Cross-tab sync initialized vá»›i localStorage fallback
 ğŸ”§ [SETUP] Creating BroadcastChannel: galaxy_cinema_seats
 âœ… [SETUP] BroadcastChannel created successfully: BroadcastChannel
 ğŸ”§ [SETUP] Adding event listener to BroadcastChannel...
webSocketService.ts:140 âœ… [SETUP] Event listener added to BroadcastChannel
webSocketService.ts:143 âœ… [SETUP] Cross-tab sync initialized vá»›i BroadcastChannel
BookingPage.tsx:69 ğŸ”„ [INIT] Found payment data in payment_state_141, restoring payment view
BookingPage.tsx:99 ğŸ”„ [INIT] Restoring paymentBookingSession from payment_state
BookingPage.tsx:288 ğŸ§¹ [MANDATORY_CLEANUP] Starting mandatory seat cleanup on page load...
BookingPage.tsx:294 ğŸ§¹ [MANDATORY_CLEANUP] Clearing WebSocket seats...
webSocketService.ts:1159 ğŸ§¹ Clearing all seats for showtime: 141
sessionStorageService.ts:99 ğŸ§¹ Cleared 0 selected seats from session storage
webSocketService.ts:287 ğŸ”§ [BROADCAST_DEBUG] Preparing to broadcast: Object
webSocketService.ts:288 ğŸ”§ [BROADCAST_DEBUG] BroadcastChannel available: true
webSocketService.ts:300 ğŸ“¡ [BROADCAST_SUCCESS] Sent via BroadcastChannel: cancel_booking seat CANCEL_BOOKING to other tabs
webSocketService.ts:1206 âœ… Cleared all seats for showtime: 141 (WITH cross-tab broadcast for cancel)
BookingPage.tsx:303 ğŸ” [MANDATORY_CLEANUP] Is reload: true, Has payment state: true
BookingPage.tsx:318 ğŸ’¾ [MANDATORY_CLEANUP] Preserving payment state - reload detected with existing payment state
BookingPage.tsx:324 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: booking_session_141
BookingPage.tsx:324 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: galaxy_cinema_session_141
BookingPage.tsx:324 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: bookingData
BookingPage.tsx:324 ğŸ§¹ [MANDATORY_CLEANUP] Cleared session: has_pending_booking
BookingPage.tsx:338 ğŸ“¡ [MANDATORY_CLEANUP] Broadcasted cleanup event
BookingPage.tsx:349 ğŸ’¾ [MANDATORY_CLEANUP] Preserving current view for payment state restoration
BookingPage.tsx:352 âœ… [MANDATORY_CLEANUP] Mandatory cleanup completed
BookingPage.tsx:467 âœ… [PAYMENT_RESTORE] Already in payment view, skipping useEffect restore
BookingPage.tsx:598 ğŸ” [PENDING_CHECK] Checking for pending booking on mount...
BookingPage.tsx:744 ğŸ“­ [PENDING_CHECK] No pending booking found
BookingPage.tsx:754 ğŸ”„ [BOOKING_PAGE] Current view changed to: payment
BookingPage.tsx:758 ğŸ’³ [BOOKING_PAGE] PaymentComponent will be mounted
BookingPage.tsx:1093 ğŸ“‹ BookingPage Debug Info:
BookingPage.tsx:1094 - URL showtimeId: 141
BookingPage.tsx:1095 - location.state: null
BookingPage.tsx:1096 - showtime data: undefined
BookingPage.tsx:1097 - movie data: undefined
BookingPage.tsx:1098 - theater data: undefined
BookingPage.tsx:1108 ğŸš€ BookingPage: Force ensuring WebSocket connection for showtime 141
BookingPage.tsx:1224 ğŸ¬ Fetching showtime details for ID: 141
BookingPage.tsx:1114 ğŸ”¥ BookingPage: Force reconnecting WebSocket...
webSocketService.ts:1408 ğŸ”¥ Force reconnecting WebSocket for showtime 141...
webSocketService.ts:1431 ğŸ”„ Reconnect attempt 1/3 (delay: 100ms)
webSocketService.ts:1486 ğŸ”„ Starting auto-reconnect for showtime 141
webSocketService.ts:930 ğŸ”Œ Connection state changed: connecting
webSocketService.ts:949 ğŸ“¡ [BROADCAST] Connection state broadcasted: connecting
webSocketService.ts:338 ğŸ”„ Äang káº¿t ná»‘i WebSocket server...
webSocketService.ts:343 ğŸ”‘ [DEBUG] Auth token check: Object
webSocketService.ts:930 ğŸ”Œ Connection state changed: connected
webSocketService.ts:949 ğŸ“¡ [BROADCAST] Connection state broadcasted: connected
webSocketService.ts:384 âœ… WebSocket connected thÃ nh cÃ´ng
webSocketService.ts:385 ğŸ”Œ Client Socket ID: EadaABP-6BD3zW9jAADp
webSocketService.ts:949 ğŸ“¡ [BROADCAST] Connection state broadcasted: connected
webSocketService.ts:1442 âœ… Force reconnect successful on attempt 1
webSocketService.ts:611 ğŸ¬ Tham gia showtime room: 141
webSocketService.ts:612 ğŸ”Œ Using Socket ID: EadaABP-6BD3zW9jAADp
webSocketService.ts:1448 ğŸ  Rejoined showtime 141 after force reconnect
BookingPage.tsx:1355 ğŸ” fetchSeats - Seat A6 Price: Object
BookingPage.tsx:1355 ğŸ” fetchSeats - Seat A7 Price: Object
BookingPage.tsx:1377 ğŸª‘ fetchSeats - Setting 35 seats
BookingPage.tsx:1387 â„¹ï¸ Found 3 occupied seats, but NOT clearing all seats to preserve other users' selections
PaymentComponent.tsx:654 ğŸ”§ [PAYMENT] Processing seats: Object
PaymentComponent.tsx:686 âœ… [PAYMENT] Using existing array: Array(3)
useCountdown.ts:44 ğŸš€ [useCountdown] Khá»Ÿi táº¡o countdown cho booking 1409
countdownService.ts:47 ğŸ”„ [COUNTDOWN] Sá»­ dá»¥ng timer hiá»‡n cÃ³ cho booking 1409: Object
useCountdown.ts:54 ğŸ“Š [useCountdown] Booking 1409 - Thá»i gian cÃ²n láº¡i: 202s
useCountdown.ts:61 â–¶ï¸ [useCountdown] Báº¯t Ä‘áº§u timer cho booking 1409
countdownService.ts:185 ğŸš€ [COUNTDOWN] Báº¯t Ä‘áº§u timer cho booking 1409
PaymentComponent.tsx:129 Äang láº¥y thÃ´ng tin Ä‘iá»ƒm cá»§a ngÆ°á»i dÃ¹ng 9
PaymentComponent.tsx:531 ğŸ“‹ Dá»¯ liá»‡u tá»« sessionStorage: Object
PaymentComponent.tsx:612 ğŸ­ Äang táº£i thÃ´ng tin showtime ID: 141
PaymentComponent.tsx:646 ğŸ”„ Auto-selected PayOS for regular user
BookingPage.tsx:467 âœ… [PAYMENT_RESTORE] Already in payment view, skipping useEffect restore
PaymentComponent.tsx:136 âœ… Láº¥y thÃ´ng tin Ä‘iá»ƒm thÃ nh cÃ´ng: 207500 Ä‘iá»ƒm
PaymentComponent.tsx:615 âœ… ThÃ´ng tin showtime tá»« API: Object
webSocketService.ts:452 ğŸª‘ Received 35 seats from server
webSocketService.ts:147 ğŸ§ª [TEST] Testing BroadcastChannel...
webSocketService.ts:1392 ğŸ§ª [TEST] Sending test message via BroadcastChannel: Object
webSocketService.ts:1395 âœ… [TEST] Test message sent successfully
BookingPage.tsx:440 â„¹ï¸ [VISIBILITY] Page hidden - preserving state (user might return)
BookingPage.tsx:442 â„¹ï¸ [VISIBILITY] Page visible - user returned
BookingPage.tsx:440 â„¹ï¸ [VISIBILITY] Page hidden - preserving state (user might return)
BookingPage.tsx:442 â„¹ï¸ [VISIBILITY] Page visible - user returned
